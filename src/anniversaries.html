<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="./styles/anniversaries.css">
    <title>Anniversaries!</title>
</head>

<body>
    <section class="top-banners">
        <img src="./assets/at-t-the-first-banner-1994.png" class="h-banner">
        <img src="./assets/panasonic-1998.gif" class="h-banner">
        <a href="index.html" class="back-button"></a>
    </section>
    <main>
        <div class="title-container">
            <img src="./assets/moon-sprite1.gif" class="title-sprite">
            <img src="./assets/Anniversaries-9-8-2025.png" class="title">
            <img src="./assets/moon-sprite2.gif" class="title-sprite">
        </div>
        <div class="anniversaries-container">
            <table class="anniversaries-table">
                <tbody id="anniversaries-tbody">
                    <!-- Anniversaries will be dynamically inserted here -->
                </tbody>
            </table>
            <img src="./assets/moon.gif" class="moon">
            
            <img src="./assets/sailor-moon-divider.gif" class="divider">
        </div>
        
        <img src="./assets/sailor-moon1.gif" class="sailor-moon sailor-moon--1">
        <img src="./assets/sailor-moon2.gif" class="sailor-moon sailor-moon--2">
        <img src="./assets/sailor-moon4.gif" class="sailor-moon sailor-moon--4">
    </main>
    <aside class="sidebar">
        <img src="./assets/sailor-moon3.gif" class="sailor-moon sailor-moon--3">
    </aside>
    <footer>
        <img src="./assets/signmygb.gif" class="guestbook">
        <div class="flashy-buttons">
            <img src="./assets/100hot.gif">
            <img src="./assets/free-stuff-center.gif">
            <img src="./assets/hotmail2.gif">
            <img src="./assets/FreewareGuide.gif">
            <img src="./assets/winrar.gif">
            <img src="./assets/angelfire.gif">
            <img src="./assets/netscape.gif">
            <img src="./assets/gameboy_advance_net.gif">
        </div>
    </footer>

    <script type="module">
        import { createPopup as createNinetiesPopup } from './modules/nineties-popup.js';
        import { createGlitterBackground, enablePageGlitter } from './modules/glitter-background.js';
        import { createVerticalAdBanner } from './modules/vertical-ad-banner.js';
        import { createVisitorCounter } from './modules/visitor-counter.js';


        const pageGlitter = enablePageGlitter({
                density: 'medium',
                enableRainbow: true,
                enableDrift: false,
                enableRain: false,
            });

        async function populateAnniversaries() {
            try {
                const response = await fetch('./data/anniversaries.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const anniversaries = await response.json();
                const tbody = document.getElementById('anniversaries-tbody');

                anniversaries.forEach(anniversary => {
                    const row = document.createElement('tr');
                    row.id = anniversary.id;

                    const nameCell = document.createElement('td');
                    nameCell.textContent = anniversary.name;
                    row.appendChild(nameCell);

                    const durationCell = document.createElement('td');
                    durationCell.textContent = anniversary.duration;
                    row.appendChild(durationCell);

                    tbody.appendChild(row);
                });
            } catch (error) {
                console.error("Could not load anniversaries:", error);
            }
        }

        const sidebar = document.querySelector('.sidebar');
        // Auto-show banner on load
        createVerticalAdBanner({
            position: 'left',
            header: 'HOT DEAL!',
            imageSrc: '/assets/amazing_free_stuff.gif',
            text: 'Get your FREE anniversary gift pack! Limited time offer!',
            buttonText: 'CLAIM NOW',
            counterStart: 8888,
            customClass: 'anniversary-banner-1',
            onButtonClick: () => {
                alert('Congratulations! Your anniversary gift is a free animated cursor pack!');
            },
            container: sidebar,
        });

        createVerticalAdBanner({
            position: 'left',
            header: 'SPECIAL OFFER!',
            imageSrc: '/assets/free.gif',
            text: 'Download more RAM for FREE!',
            buttonText: 'DOWNLOAD',
            counterStart: 0,
            customClass: 'anniversary-banner-2',
            onButtonClick: () => {
                createNinetiesPopup({
                    title: '*** Best Viewed in 800x600 ***',
                    headline: 'INCREDIBLE OFFER',
                    subhead: 'Free upgrade to “Deluxe Clipart Pack”!',
                    bullets: [
                        'Unlimited glitter text (terms apply)',
                        'Premium cursor trails (rainbow mode)',
                        'Bonus: 30-day ICQ “invisible” status'
                    ],
                    ctaText: 'Install Now',
                    onCta: () => alert('Now installing hundreds of viruses for you to cry about later!'),
                    annoyMode: true,
                    allowBounce: false
                });
            },
            container: sidebar,
        });

        // auto-show popup on load
        window.addEventListener('DOMContentLoaded', () => {
            populateAnniversaries();
            createNinetiesPopup({
                title: 'YOU WON A SCREENSAVER',
                headline: 'FINAL NOTICE',
                subhead: 'Your free Flying Toasters expire soon!',
                bullets: ['Hypnotic 3D pipes', 'Minesweeper pro tips', 'Dial-up tone ringtone'],
                ctaText: 'Claim Toasters',
                allowBounce: false
            });
        });

        const counter = createVisitorCounter({
            container: document.querySelector('.sidebar'),
            label: 'Visitors:',
            startValue: 9876,
            digits: 8,
            theme: 'pink',
            size: 'small',
            glowEffect: true,
            lcdStyle: false,
            crtEffect: false,
            sparkleEffect: true,
            autoIncrement: true,
            incrementInterval: 30000,
            incrementMin: 1,
            incrementMax: 10,
            customClass: 'moon-counter'
        });
    </script>
</body>

</html>