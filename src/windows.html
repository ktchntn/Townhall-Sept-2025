<!DOCTYPE html>
<html>
	<head>
		<title>September Town Hall</title>
		<link rel="stylesheet" href="./styles/windows.css">

		<!-- Google Font -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<!-- <link href="https://fonts.googleapis.com/css2?family=Coral+Pixels&family=Slackey&display=swap" rel="stylesheet"> -->
		<link href="https://fonts.googleapis.com/css2?family=Handjet:wght@100..900&family=VT323&display=swap" rel="stylesheet">
	</head>
	<body>
		<div class="main">
			<div class="container">
				<div class="folder-container" id ="cmvp">
					<img class="icon" src="./assets/icons/folder-color.png"/>
					<p>CMVP</p>
				</div>
				<div class="folder-container">
					<a href="./assets/PDFs/CMVP.pdf">
						<img class="icon" src="./assets/icons/folder-color.png"/>
					</a>
					<p>Shout Outs</p>
				</div>
				<div class="folder-container">
          <a href="./index.html">
            <img class="icon" src="./assets/picture-ring/windows.gif"/>
            <p>Internet</p>
          </a>
				</div>
			</div>
			<div class="bottom-nav">
				<button><img class="cm-logo" src="./assets/90s-CM-Logo.png"/>Start</button>
				<div class="time-container">
					<img class="icon" src="./assets/icons/volume-up.png"/>
					<p id="time"></p>
				</div>
			</div>
		</div>
	</body>

  <script>
    function updateClock() {
      const now = new Date();
      const time = now.toLocaleTimeString("en-US", { hour: "2-digit", minute: "2-digit" });
      document.getElementById('time').innerText = `${time}`;
    }

    // Call updateClock initially to display the time immediately
    updateClock();

    // Update the clock every second
    setInterval(updateClock, 1000);
  </script>

  <script type="module">
	import { createMediaPlayer } from './modules/windows98-media-player.js';
		const videos = [
			{ title: "Welcome Video", src: "./assets/videos/placeholder.mp4" }
		];

		// Track if player is already open
		let mediaPlayer = null;

		// Add click event listener to the CMVP folder
		document.getElementById('cmvp').addEventListener('click', function () {
			// Only create a new player if one isn't already open
			if (!mediaPlayer) {
				mediaPlayer = createMediaPlayer({
					videos: videos,
					width: 640,
					height: 480,
					centered: true,
					initialVolume: 1
				});

				// Reset the mediaPlayer variable when the player is closed
				mediaPlayer.onClose(() => {
					mediaPlayer = null;
				});
			}
		});
</script>
</html>