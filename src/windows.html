<!DOCTYPE html>
<html>
  <head>
    <title>September Town Hall</title>
    <link rel="stylesheet" href="./styles/windows.css" />
	<link rel="stylesheet" href="./styles/pixelated-corners.css" />

		<!-- Google Font -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<!-- <link href="https://fonts.googleapis.com/css2?family=Coral+Pixels&family=Slackey&display=swap" rel="stylesheet"> -->
		<link href="https://fonts.googleapis.com/css2?family=Handjet:wght@100..900&family=VT323&display=swap" rel="stylesheet">
	</head>
	<body>
		<div class="main">
			<div class="container">
				<a class="folder-container" href="./assets/townhall-content/biz-update/index.html">
					<div class="icon folder"></div>
					<p>Biz Updates</p>
				</a>
				<a class="folder-container" href="./assets/townhall-content/i&i/index.html">
					<div class="icon folder"></div>
					<p>I&I</p>
				</a>
				<a class="folder-container" href="./assets/townhall-content/social-club/index.html">
					<div class="icon folder"></div>
					<p>Social Club</p>
				</a>
				<div class="folder-container" id="cmvp">
					<div class="icon play"></div>
					<p>CMVP</p>
				</div>
				<a class="folder-container" id="interweb">
					<div class="icon internet"></div>
					<p>Internet</p>
				</a>
				<a class="folder-container" href="./question-and-answer.html">
					<div class="icon question"></div>
					<p>Q&A</p>
				</a>
				<div class="folder-container" class="paint">
					<div class="icon paint"></div>
					<p>Paint</p>
				</div>
				<div class="folder-container">
					<div class="icon solitaire"></div>
					<p>Solitaire</p>
				</div>
			</div>
			<dialog id="dialog"></dialog>
			<div class="bottom-nav">
				<a href="/index.html">
					<button><img class="cm-logo" src="./assets/90s-CM-Logo.png"/>Start</button>
				</a>
				<div class="time-container">
					<img class="icon" src="./assets/icons/volume-up.png"/>
					<p id="time"></p>
				</div>
			</div>
		</div>
	</body>

  <script>
    function updateClock() {
      const now = new Date();
      const time = now.toLocaleTimeString("en-US", {
        hour: "2-digit",
        minute: "2-digit",
      });
      document.getElementById("time").innerText = `${time}`;
    }

    // Call updateClock initially to display the time immediately
    updateClock();

    // Update the clock every second
    setInterval(updateClock, 1000);

		const internetButton = document.getElementById('interweb')
		const dialog = document.getElementById('dialog')

		internetButton.addEventListener('click', () => {
			dialog.showModal()
		}) 

		dialog.addEventListener('click', () => {
			console.log('close')
			dialog.close()
		})
  </script>

  <script type="module">
		import { createMediaPlayer } from './modules/windows98-media-player.js';

		const videos = [
			{ title: "Welcome Video", src: "./assets/videos/CMVP.SEPTTH.mp4" }
		];

    let mediaPlayer = null;

    document.getElementById("cmvp").addEventListener("click", function () {
      if (!mediaPlayer) {
        mediaPlayer = createMediaPlayer({
          videos: videos,
          width: 640,
          height: 480,
          centered: false,
          initialVolume: 1,
        });

				mediaPlayer.onClose(() => {
					mediaPlayer = null;
				});
			}
		});
	</script>
	<script type="module">
		import { createTriviaPopup } from './modules/nineties-popup.js';
		import { createFireWorks } from './modules/fireworks.js';
		import { triviaQuestions } from "./data/trivia.js";
		const tq = triviaQuestions[3];

		document.querySelector('.paint').addEventListener('click', ()=>{
			createTriviaPopup({
				title: 'TRIVIA TIME!!',
				triviaQuestion: tq.question,
				triviaAnswers: tq.answers,
				answerIndex: tq.answerIndex,
				onCorrect: ()=> createFireWorks()
			});
		});
	</script>
</html>
